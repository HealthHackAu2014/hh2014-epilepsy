define("epilepsy-project/app",["ember","ember/resolver","ember/load-initializers","epilepsy-project/config/environment","exports"],function(e,t,a,r,n){"use strict";var s=e["default"],i=t["default"],o=a["default"],d=r["default"];s.MODEL_FACTORY_INJECTIONS=!0;var p=s.Application.extend({modulePrefix:d.modulePrefix,podModulePrefix:d.podModulePrefix,Resolver:i});o(p,d.modulePrefix),n["default"]=p}),define("epilepsy-project/components/badass-chart",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Component.extend({attributeBindings:["width","height"],width:1e3,height:600,draw:function(){if(!a.isEmpty(this.get("data"))){var e=this.get("data"),t=this.get("secondaryData"),r={top:20,right:80,bottom:30,left:80},n=this.get("width")-r.left-r.right,s=this.get("height")-r.top-r.bottom;this.set("width",n),this.set("height",s);var i=d3.select("#"+this.get("elementId")+" svg").attr("width",n+r.left+r.right).attr("height",s+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")").attr("viewBox","0 0 "+this.get("width")+" "+this.get("height")).attr("preserveAspectRatio","xMinYMin");this.generateGraph(i,e);var t=[{date:Date.parse("2014-06-19"),dosage:5},{date:Date.parse("2014-07-19"),dosage:8},{date:Date.parse("2014-08-19"),dosage:5},{date:Date.parse("2014-09-19"),dosage:1},{date:Date.parse("2014-10-19"),dosage:10},{date:Date.parse("2014-11-19"),dosage:5}];t.meta={domain:"date",value:"dosage",level:"secondary",type:"line",title:"Medications Dosage"},this.generateGraph(i,t)}},generateGraph:function(e,t){var a=t.meta.domain,r=t.meta.value,n=t.meta.level,s=t.meta.type,i=t.meta.title,o=this.get("width"),d=this.get("height"),p=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(e){var t='<dl class="dl-horizontal">',a=e.tooltip;for(var r in a)a.hasOwnProperty(r)&&(t+="<dt>"+r+"</dt><dd>"+a[r]+"</dd>");return t+="</dl>"});e.call(p);var l=d3.time.scale().range([0,this.get("width")]).domain([d3.min(t,function(e){return e[a]}),d3.max(t,function(e){return e[a]})]),c=d3.scale.linear().range([d,0]).domain([0,d3.max(t,function(e){return e[r]})]);if("primary"==n){var u=d3.svg.axis().scale(l).orient("bottom");e.append("g").attr("class","x axis").attr("transform","translate(0,"+d+")").call(u)}if("primary"==n)var f="left",h=6,m="translate(-30, 0)";else var f="right",h=24,m="translate("+this.get("width")+", 0)";var g=d3.svg.axis().scale(c).orient(f);if(e.append("g").attr("class","y axis").attr("transform",m).call(g).append("text").attr("transform","rotate(-90)").attr("y",h).attr("dy",".71em").style("text-anchor","end").text(i),"bar"==s){var v=e.selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("x",function(e){return l(e[a])}).attr("width",o/t.length-8).attr("y",function(e){return c(e[r])}).attr("height",function(e){return d-c(e[r])});p&&v.on("mouseover",p.show).on("mouseout",p.hide)}else if("line"==s){console.log(t);{var y=d3.svg.line().x(function(e){return window.thing=l,console.log(e[a]),l(e[a])}).y(function(e){return console.log(e[r]),c(e[r])}).interpolate("linear");e.append("g").append("path").attr("class","line").attr("stroke-width",2).attr("d",y(t))}}},didInsertElement:function(){this.draw()},dataChanged:function(){"inDOM"==this._state&&this.draw()}.observes("data.[],secondaryData.[]")})}),define("epilepsy-project/controllers/index",["ember","ic-ajax","exports"],function(e,t,a){"use strict";var r=e["default"],n=t["default"];a["default"]=r.ObjectController.extend({api:"http://115.146.95.69:8000",fetchData:function(){return n(this.get("api")+"/patients/?format=json")}.property("api"),seizureData:function(){this.get("fetchData").then(function(e){var t=e[0].seizures;t=this.setupSeizureData(t),this.set("seizureData",t)}.bind(this))}.property("fetchData"),medicationData:function(){this.get("fetchData").then(function(e){var t=e[0].medications;t=this.setupMedicationData(t),this.set("medicationData",t)}.bind(this))}.property("fetchData"),setupSeizureData:function(e){return e.forEach(function(e){var t=Date.parse(e.assessment_date);e.assessment_date=t,e.tooltip={assessment_date:moment(t).format("MMMM Do YYYY"),frequency:e.frequency,severity:e.episode_severity,event_confidence:e.event_confidence}}),e.meta={domain:"assessment_date",value:"episode_severity",level:"primary",type:"bar",title:"Seizure Frequency"},e},setupMedicationData:function(e){return e.forEach(function(e){var t=Date.parse(e.date);e.date=t,e.tooltip={date:moment(t).format("MMMM Do YYYY"),frequency:e.frequency,name:e.name,dosage:e.dosage,dose_unit:e.dose_unit,no_medications:e.no_medications}}),e.meta={domain:"date",value:"dosage",level:"secondary",type:"line",title:"Medications Dosage"},e}})}),define("epilepsy-project/router",["ember","epilepsy-project/config/environment","exports"],function(e,t,a){"use strict";var r=e["default"],n=t["default"],s=r.Router.extend({location:n.locationType});s.map(function(){}),a["default"]=s}),define("epilepsy-project/templates/application",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.template(function(e,t,r,n,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,a.Handlebars.helpers),s=s||{};var i,o="";return s.buffer.push("\n"),i=r._triageMustache.call(t,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:s}),(i||0===i)&&s.buffer.push(i),s.buffer.push("\n"),o})}),define("epilepsy-project/templates/components/badass-chart",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.template(function(e,t,r,n,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,a.Handlebars.helpers),s=s||{},s.buffer.push("<svg>\n</svg>")})}),define("epilepsy-project/templates/index",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.template(function(e,t,r,n,s){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,a.Handlebars.helpers),s=s||{};var i,o,d="",p=r.helperMissing,l=this.escapeExpression;return s.buffer.push("<h2>Health Hack!!</h2>\n\n"),s.buffer.push(l((i=r["badass-chart"]||t&&t["badass-chart"],o={hash:{data:"seizureData",secondaryData:"medicationData"},hashTypes:{data:"ID",secondaryData:"ID"},hashContexts:{data:t,secondaryData:t},contexts:[],types:[],data:s},i?i.call(t,o):p.call(t,"badass-chart",o)))),s.buffer.push("\n\n"),d})}),define("epilepsy-project/config/environment",["ember"],function(e){var t="epilepsy-project/config/environment",a=e["default"].$('meta[name="'+t+'"]').attr("content"),r=JSON.parse(unescape(a));return{"default":r}}),runningTests?require("epilepsy-project/tests/test-helper"):require("epilepsy-project/app")["default"].create({});