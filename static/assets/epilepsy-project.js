define("epilepsy-project/app",["ember","ember/resolver","ember/load-initializers","epilepsy-project/config/environment","exports"],function(e,t,a,s,n){"use strict";var r=e["default"],i=t["default"],o=a["default"],h=s["default"];r.MODEL_FACTORY_INJECTIONS=!0;var u=r.Application.extend({modulePrefix:h.modulePrefix,podModulePrefix:h.podModulePrefix,Resolver:i});o(u,h.modulePrefix),n["default"]=u}),define("epilepsy-project/components/badass-chart",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Component.extend({attributeBindings:["width","height"],width:1e3,height:400,draw:function(){if(!a.isEmpty(this.get("data"))){var e=this.get("data"),t=this.get("secondaryData"),s={top:20,right:80,bottom:30,left:80},n=this.get("width")-s.left-s.right,r=this.get("height")-s.top-s.bottom;this.set("width",n),this.set("height",r);var i=d3.select("#"+this.get("elementId")+" svg").attr("width",n+s.left+s.right).attr("height",r+s.top+s.bottom).append("g").attr("transform","translate("+s.left+","+s.top+")").attr("viewBox","0 0 "+this.get("width")+" "+this.get("height")).attr("preserveAspectRatio","xMinYMin");this.generateGraph(i,e);var o={};t.forEach(function(e){var s=e.name;if(a.isEmpty(o[s])){o[s]=[];var n=a.$.extend(!0,{},t.meta);o[s].meta=n;var r=s.replace(/\s/,"");o[s].meta.name=r,o[s].push(e)}else o[s].push(e)}.bind(this));for(var h in o)o.hasOwnProperty(h)&&this.generateGraph(i,o[h])}},generateGraph:function(e,t){var a=t.meta.domain,s=t.meta.value,n=t.meta.level,r=t.meta.type,i=t.meta.title,o=this.get("width"),h=this.get("height"),u=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(e){var t='<dl class="dl-horizontal">',a=e.tooltip;for(var s in a)a.hasOwnProperty(s)&&(t+="<dt>"+s+"</dt><dd>"+a[s]+"</dd>");return t+="</dl>"});e.call(u);var d=d3.time.scale().range([0,this.get("width")]).domain([d3.min(t,function(e){return e[a]}),d3.max(t,function(e){return e[a]})]),p=d3.scale.linear().range([h,0]).domain([0,d3.max(t,function(e){return e[s]})]);if("primary"==n){var c=d3.svg.axis().scale(d).orient("bottom");e.append("g").attr("class","x axis").attr("transform","translate(0,"+h+")").call(c)}if("primary"==n)var f="left",l=6,m="translate(-30, 0)";else var f="right",l=24,m="translate("+this.get("width")+", 0)";var y=d3.svg.axis().scale(p).orient(f);if(e.append("g").attr("class","y axis").attr("transform",m).call(y).append("text").attr("transform","rotate(-90)").attr("y",l).attr("dy",".71em").style("text-anchor","end").text(i),"bar"==r){var b=e.selectAll(".bar").data(t).enter().append("rect").attr("class","bar").attr("x",function(e){return d(e[a])}).attr("width",o/t.length-8).attr("y",function(e){return p(e[s])}).attr("height",function(e){return h-p(e[s])});u&&b.on("mouseover",u.show).on("mouseout",u.hide)}else if("line"==r){var g=d3.svg.line().x(function(e){return d(e[a])}).y(function(e){return p(e[s])}).interpolate("linear");e.append("g").append("path").attr("class","line").attr("stroke-width",2).attr("d",g(t))}else if("dots"==r){console.log(t);var x=e.append("g").selectAll("g").data(t).enter().append("g");x.append("circle").attr("class",t.meta.name).attr("r",4).attr("cx",function(e){return d(e[a])}).attr("cy",function(e){return p(e[s])}),u&&x.on("mouseover",u.show).on("mouseout",u.hide)}},didInsertElement:function(){this.draw()},dataChanged:function(){"inDOM"==this._state&&this.draw()}.observes("data.[],secondaryData.[]")})}),define("epilepsy-project/controllers/application",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Controller.extend({actions:{bigCursor:function(){a.$("body").toggleClass("big-cursor")}}})}),define("epilepsy-project/controllers/index",["ember","ic-ajax","exports"],function(e,t,a){"use strict";var s=e["default"],n=t["default"];a["default"]=s.ObjectController.extend({api:"http://115.146.95.69:8000",fetchData:function(){return n(this.get("api")+"/patients/?format=json")}.property("api"),seizureData:function(){this.get("fetchData").then(function(e){var t=e[0].seizures;t=this.setupSeizureData(t),this.set("seizureData",t)}.bind(this))}.property("fetchData"),medicationData:function(){this.get("fetchData").then(function(e){var t=e[0].medications;t=this.setupMedicationData(t),this.set("medicationData",t)}.bind(this))}.property("fetchData"),setupSeizureData:function(e){return e.forEach(function(e){var t=Date.parse(e.assessment_date);e.assessment_date=t,e.tooltip={assessment_date:moment(t).format("MMMM Do YYYY"),frequency:e.frequency,severity:e.episode_severity,event_confidence:e.event_confidence}}),e.meta={domain:"assessment_date",value:"episode_severity",level:"primary",type:"bar",title:"Seizure Frequency"},e},setupMedicationData:function(e){return e.forEach(function(e){var t=Date.parse(e.date);e.date=t,e.tooltip={date:moment(t).format("MMMM Do YYYY"),frequency:e.frequency,name:e.name,dosage:e.dosage,dose_unit:e.dose_unit,no_medications:e.no_medications}}),e.meta={domain:"date",value:"dosage",level:"secondary",type:"line",title:"Medications Dosage"},e}})}),define("epilepsy-project/controllers/patients/show",["ember","ic-ajax","exports"],function(e,t,a){"use strict";{var s=e["default"];t["default"]}a["default"]=s.ObjectController.extend({seizureData:function(){return this.setupSeizureData(this.get("seizures"))}.property("seizures"),medicationData:function(){return this.setupMedicationData(this.get("medications"))}.property("medications"),setupSeizureData:function(e){return e.forEach(function(e){var t=Date.parse(e.assessment_date);e.assessment_date=t,e.tooltip={assessment_date:moment(t).format("MMMM Do YYYY"),frequency:e.frequency,severity:e.episode_severity,event_confidence:e.event_confidence}}),e.meta={domain:"assessment_date",value:"episode_severity",level:"primary",type:"bar",title:"Seizure Frequency"},e},setupMedicationData:function(e){return e.forEach(function(e){var t=Date.parse(e.date);e.date=t,e.tooltip={date:moment(t).format("MMMM Do YYYY"),frequency:e.frequency,name:e.name,dosage:e.dosage,dose_unit:e.dose_unit,no_medications:e.no_medications}}),console.log(e),e.meta={domain:"date",value:"dosage",level:"secondary",type:"dots",title:"Medications Dosage"},e}})}),define("epilepsy-project/helpers/format-date",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.makeBoundHelper(function(e,t){var s,n=t.hash.format||"MMMM Do YYYY";return s=a.isEmpty(e)?"":moment(e).format(n)})}),define("epilepsy-project/router",["ember","epilepsy-project/config/environment","exports"],function(e,t,a){"use strict";var s=e["default"],n=t["default"],r=s.Router.extend({location:n.locationType});r.map(function(){this.resource("patients",{path:"/records/visual"},function(){this.route("show",{path:"/:patient_id"})})}),a["default"]=r}),define("epilepsy-project/routes/patients/index",["ember","ic-ajax","exports"],function(e,t,a){"use strict";var s=e["default"],n=t["default"];a["default"]=s.Route.extend({model:function(){return n("http://115.146.95.69:8000/patients/?format=json")}})}),define("epilepsy-project/routes/patients/show",["ember","ic-ajax","exports"],function(e,t,a){"use strict";var s=e["default"],n=t["default"];a["default"]=s.Route.extend({model:function(e){return n("http://115.146.95.69:8000/patients/"+e.patient_id+"?format=json")}})}),define("epilepsy-project/templates/application",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.template(function(e,t,s,n,r){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,a.Handlebars.helpers),r=r||{};var i,o="",h=this.escapeExpression;return r.buffer.push("<button "),r.buffer.push(h(s.action.call(t,"bigCursor",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["STRING"],data:r}))),r.buffer.push(' class="btn btn-primary">Big cursor mode</button>\n\n'),i=s._triageMustache.call(t,"outlet",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(i||0===i)&&r.buffer.push(i),r.buffer.push("\n"),o})}),define("epilepsy-project/templates/components/badass-chart",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.template(function(e,t,s,n,r){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,a.Handlebars.helpers),r=r||{},r.buffer.push("<svg>\n</svg>")})}),define("epilepsy-project/templates/index",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.template(function(e,t,s,n,r){this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,a.Handlebars.helpers),r=r||{};var i,o,h="",u=s.helperMissing,d=this.escapeExpression;return r.buffer.push("<h2>Health Hack!!</h2>\n\n"),r.buffer.push(d((i=s["badass-chart"]||t&&t["badass-chart"],o={hash:{data:"seizureData",secondaryData:"medicationData"},hashTypes:{data:"ID",secondaryData:"ID"},hashContexts:{data:t,secondaryData:t},contexts:[],types:[],data:r},i?i.call(t,o):u.call(t,"badass-chart",o)))),r.buffer.push("\n\n"),h})}),define("epilepsy-project/templates/patients/index",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.template(function(e,t,s,n,r){function i(e,t){var a,n="";return t.buffer.push('\n  <table class="table">\n  <thead>\n    <tr>\n      <th>Date</th>\n      <th>Dosage</th>\n      <th>Dose Unit</th>\n      <th>Frequency</th>\n      <th>Name</th>\n      <th>No Medications</th>\n    </tr>\n  </thead>\n  <tbody>\n    '),a=s.each.call(e,"medication","in","medications",{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(2,o,t),contexts:[e,e,e],types:["ID","ID","ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("\n  </tbody>\n  </table>\n"),n}function o(e,t){var a,n="";return t.buffer.push("\n      <tr>\n        <td>"),a=s._triageMustache.call(e,"medication.date",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n        <td>"),a=s._triageMustache.call(e,"medication.dosage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n        <td>"),a=s._triageMustache.call(e,"medication.dose_unit",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n        <td>"),a=s._triageMustache.call(e,"medication.frequency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n        <td>"),a=s._triageMustache.call(e,"medication.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n        <td>"),a=s._triageMustache.call(e,"medication.no_medications",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n      </tr>\n    "),n}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,a.Handlebars.helpers),r=r||{};var h,u=this;h=s.each.call(t,{hash:{},hashTypes:{},hashContexts:{},inverse:u.noop,fn:u.program(1,i,r),contexts:[],types:[],data:r}),r.buffer.push(h||0===h?h:"")})}),define("epilepsy-project/templates/patients/show",["ember","exports"],function(e,t){"use strict";var a=e["default"];t["default"]=a.Handlebars.template(function(e,t,s,n,r){function i(e,t){var a,n,r,i="";return t.buffer.push("\n    <tr>\n      <td>"),t.buffer.push(l((n=s["format-date"]||e&&e["format-date"],r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},n?n.call(e,"medication.date",r):f.call(e,"format-date","medication.date",r)))),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"medication.dosage",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"medication.dose_unit",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"medication.frequency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"medication.name",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"medication.no_medications",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n    </tr>\n  "),i}function o(e,t){var a,n,r,i="";return t.buffer.push("\n    <tr>\n      <td>"),t.buffer.push(l((n=s["format-date"]||e&&e["format-date"],r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},n?n.call(e,"seizure.assessment_date",r):f.call(e,"format-date","seizure.assessment_date",r)))),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"seizure.episode_severity",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"seizure.event_confidence",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"seizure.frequency",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n    </tr>\n  "),i}function h(e,t){var a,n,r,i="";return t.buffer.push("\n    <tr>\n      <td>"),t.buffer.push(l((n=s["format-date"]||e&&e["format-date"],r={hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t},n?n.call(e,"surgery.date",r):f.call(e,"format-date","surgery.date",r)))),t.buffer.push("</td>\n      <td>"),a=s._triageMustache.call(e,"surgery.surgery_type",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(a||0===a)&&t.buffer.push(a),t.buffer.push("</td>\n    </tr>\n  "),i}this.compilerInfo=[4,">= 1.0.0"],s=this.merge(s,a.Handlebars.helpers),r=r||{};var u,d,p,c="",f=s.helperMissing,l=this.escapeExpression,m=this;return r.buffer.push("<h2>Patient Numero "),u=s._triageMustache.call(t,"anon_number",{hash:{},hashTypes:{},hashContexts:{},contexts:[t],types:["ID"],data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("</h2>\n\n"),r.buffer.push(l((d=s["badass-chart"]||t&&t["badass-chart"],p={hash:{data:"seizureData",secondaryData:"medicationData"},hashTypes:{data:"ID",secondaryData:"ID"},hashContexts:{data:t,secondaryData:t},contexts:[],types:[],data:r},d?d.call(t,p):f.call(t,"badass-chart",p)))),r.buffer.push('\n\n<h3>Medications</h3>\n\n<table class="table table-hover table-striped">\n<thead>\n  <tr>\n    <th>Date</th>\n    <th>Dosage</th>\n    <th>Dose Unit</th>\n    <th>Frequency</th>\n    <th>Name</th>\n    <th>No Medications</th>\n  </tr>\n</thead>\n<tbody>\n  '),u=s.each.call(t,"medication","in","medications",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(1,i,r),contexts:[t,t,t],types:["ID","ID","ID"],data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push('\n</tbody>\n</table>\n\n\n<h3>Seizures</h3>\n\n<table class="table table-hover table-striped">\n<thead>\n  <tr>\n    <th>Assessment Date</th>\n    <th>Severity</th>\n    <th>Event Confidence</th>\n    <th>Frequency</th>\n  </tr>\n</thead>\n<tbody>\n  '),u=s.each.call(t,"seizure","in","seizures",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(3,o,r),contexts:[t,t,t],types:["ID","ID","ID"],data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push('\n</tbody>\n</table>\n\n\n<h3>Surgeries</h3>\n\n<table class="table table-hover table-striped">\n<thead>\n  <tr>\n    <th>Date</th>\n    <th>Type</th>\n  </tr>\n</thead>\n<tbody>\n  '),u=s.each.call(t,"surgery","in","surgeries",{hash:{},hashTypes:{},hashContexts:{},inverse:m.noop,fn:m.program(5,h,r),contexts:[t,t,t],types:["ID","ID","ID"],data:r}),(u||0===u)&&r.buffer.push(u),r.buffer.push("\n</tbody>\n</table>"),c})}),define("epilepsy-project/config/environment",["ember"],function(e){var t="epilepsy-project/config/environment",a=e["default"].$('meta[name="'+t+'"]').attr("content"),s=JSON.parse(unescape(a));return{"default":s}}),runningTests?require("epilepsy-project/tests/test-helper"):require("epilepsy-project/app")["default"].create({});